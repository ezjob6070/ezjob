import { v4 as uuidv4 } from 'uuid';
import { Job } from '@/components/jobs/JobTypes';
import { addDays, subDays, addHours, setHours, format } from 'date-fns';

// Helper to format dates to strings
const formatDateToString = (date: Date): string => {
  return format(date, "yyyy-MM-dd'T'HH:mm:ss");
};

// Generate sample job data for demo purposes
const generateDemoJobs = (): Job[] => {
  const today = new Date();
  const tomorrow = addDays(today, 1);
  const yesterday = subDays(today, 1);
  
  return [
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-001",
      title: "HVAC System Installation",
      clientName: "Riverside Development Corp",
      clientEmail: "contact@riverside-dev.example.com",
      clientPhone: "555-123-4567",
      address: "123 Main St, Downtown",
      description: "Complete HVAC system installation for new office building",
      scheduledDate: formatDateToString(addDays(today, 2)),
      date: formatDateToString(addDays(today, 2)),
      technicianId: "tech-1",
      technicianName: "John Smith",
      jobSourceId: "source-1",
      jobSourceName: "Website",
      status: "scheduled",
      priority: "medium",
      amount: 12500,
      actualAmount: 12500,
      estimateId: "est-001",
      notes: "Customer requests work to begin at 8:00 AM sharp",
      createdAt: formatDateToString(subDays(today, 10)),
      category: "HVAC",
      serviceType: "Installation"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-002",
      title: "Electrical System Inspection",
      clientName: "Greenfield Housing Association",
      clientEmail: "projects@greenfield.example.com",
      clientPhone: "555-987-6543",
      address: "456 Park Ave, Midtown",
      description: "Annual electrical system inspection for apartment complex",
      scheduledDate: formatDateToString(addDays(today, 1)),
      date: formatDateToString(setHours(tomorrow, 13)),
      technicianId: "tech-2",
      technicianName: "Sarah Johnson",
      jobSourceId: "source-2",
      jobSourceName: "Referral",
      status: "scheduled",
      priority: "high",
      amount: 3500,
      estimateId: "est-002",
      notes: "Building manager will provide access to electrical rooms",
      createdAt: formatDateToString(subDays(today, 7)),
      category: "Electrical",
      serviceType: "Inspection"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-003",
      title: "Plumbing Repair",
      clientName: "Bayshore Commercial Properties",
      clientEmail: "info@bayshore.example.com",
      clientPhone: "555-456-7890",
      address: "789 Harbor Dr, Waterfront District",
      description: "Emergency repair of burst pipe in mall basement",
      scheduledDate: formatDateToString(subDays(today, 2)),
      date: formatDateToString(subDays(today, 2)),
      technicianId: "tech-3",
      technicianName: "Michael Rodriguez",
      jobSourceId: "source-3",
      jobSourceName: "Direct Call",
      status: "completed",
      priority: "urgent",
      amount: 2800,
      actualAmount: 3200,
      estimateId: "est-003",
      notes: "Additional damage found behind wall, repair completed successfully",
      createdAt: formatDateToString(subDays(today, 5)),
      category: "Plumbing",
      serviceType: "Repair"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-004",
      title: "Carpentry Finishing Work",
      clientName: "Mountain View School District",
      clientEmail: "facilities@mvsd.example.edu",
      clientPhone: "555-789-0123",
      address: "101 School Rd, Mountain View",
      description: "Installation of custom bookshelves and trim in school library",
      scheduledDate: formatDateToString(addDays(today, 5)),
      date: formatDateToString(addDays(today, 5)),
      technicianId: "tech-4",
      technicianName: "Jennifer Lopez",
      jobSourceId: "source-4",
      jobSourceName: "Referral",
      status: "scheduled",
      priority: "medium",
      amount: 5800,
      estimateId: "est-004",
      notes: "Work to be performed after school hours only",
      createdAt: formatDateToString(subDays(today, 14)),
      category: "Carpentry",
      serviceType: "Finishing"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-005",
      title: "Foundation Inspection",
      clientName: "Sunrise Healthcare Systems",
      clientEmail: "construction@sunrise-health.example.com",
      clientPhone: "555-345-6789",
      address: "555 Health Blvd, Medical District",
      description: "Structural inspection of building foundation prior to expansion",
      scheduledDate: formatDateToString(addDays(today, 3)),
      date: formatDateToString(setHours(addDays(today, 3), 9)),
      technicianId: "tech-5",
      technicianName: "David Washington",
      jobSourceId: "source-5",
      jobSourceName: "Website",
      status: "scheduled",
      priority: "high",
      amount: 4200,
      estimateId: "est-005",
      notes: "Client requests detailed written report with photographs",
      createdAt: formatDateToString(subDays(today, 9)),
      category: "Foundation",
      serviceType: "Inspection"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-006",
      title: "Heavy Equipment Operation",
      clientName: "Harbor Industrial Partners",
      clientEmail: "development@hip.example.com",
      clientPhone: "555-234-5678",
      address: "888 Industry Way, Port District",
      description: "Excavation work for new warehouse foundation",
      scheduledDate: formatDateToString(subDays(today, 5)),
      date: formatDateToString(subDays(today, 5)),
      technicianId: "tech-6",
      technicianName: "Robert Garcia",
      jobSourceId: "source-6",
      jobSourceName: "Repeat Client",
      status: "completed",
      priority: "medium",
      amount: 8500,
      actualAmount: 8500,
      estimateId: "est-006",
      notes: "All work completed according to specifications",
      createdAt: formatDateToString(subDays(today, 20)),
      category: "Heavy Equipment",
      serviceType: "Operation"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-007",
      title: "Interior Painting",
      clientName: "Metropolitan Development Corp",
      clientEmail: "projects@metdev.example.com",
      clientPhone: "555-876-5432",
      address: "Downtown Financial District",
      description: "Complete interior painting of new office space",
      scheduledDate: formatDateToString(addDays(today, 7)),
      date: formatDateToString(setHours(addDays(today, 7), 8)),
      technicianId: "tech-7",
      technicianName: "Emily Chen",
      jobSourceId: "source-7",
      jobSourceName: "Repeat Client",
      status: "scheduled",
      priority: "medium",
      amount: 9800,
      notes: "Client has requested specific eco-friendly paint brand",
      createdAt: formatDateToString(subDays(today, 8)),
      category: "Interior",
      serviceType: "Painting"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-008",
      title: "Roof Repair",
      clientName: "Riverfront Properties LLC",
      clientEmail: "maintenance@riverfront.example.com",
      clientPhone: "555-765-4321",
      address: "Riverside South",
      description: "Repair of storm damage to apartment complex roof",
      scheduledDate: formatDateToString(subDays(today, 3)),
      date: formatDateToString(subDays(today, 3)),
      technicianId: "tech-8",
      technicianName: "William Taylor",
      jobSourceId: "source-8",
      jobSourceName: "Social Media",
      status: "completed",
      priority: "urgent",
      amount: 6200,
      actualAmount: 7400,
      notes: "Additional damage discovered during repair, client approved extra work",
      createdAt: formatDateToString(subDays(today, 15)),
      category: "Roof",
      serviceType: "Repair"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-009",
      title: "HVAC Maintenance",
      clientName: "TechFuture Investments",
      clientEmail: "facilities@techfuture.example.com",
      clientPhone: "555-654-3210",
      address: "North Innovation District",
      description: "Quarterly maintenance of office building HVAC systems",
      scheduledDate: formatDateToString(addDays(today, 10)),
      date: formatDateToString(setHours(addDays(today, 10), 14)),
      technicianId: "tech-9",
      technicianName: "Olivia Martinez",
      jobSourceId: "source-9",
      jobSourceName: "Google Ads",
      status: "scheduled",
      priority: "low",
      amount: 3200,
      notes: "Building has 8 separate HVAC units to be serviced",
      createdAt: formatDateToString(subDays(today, 12)),
      category: "HVAC",
      serviceType: "Maintenance"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-010",
      title: "Flooring Installation",
      clientName: "Global Hospitality Group",
      clientEmail: "renovations@ghg.example.com",
      clientPhone: "555-543-2109",
      address: "Harbor District",
      description: "Installation of luxury vinyl tile in hotel lobby and restaurant",
      scheduledDate: formatDateToString(subDays(today, 1)),
      date: formatDateToString(setHours(yesterday, 9)),
      technicianId: "tech-10",
      technicianName: "James Wilson",
      jobSourceId: "source-10",
      jobSourceName: "Trade Show",
      status: "completed",
      priority: "high",
      amount: 12800,
      actualAmount: 12800,
      notes: "Client extremely satisfied with quality of work",
      createdAt: formatDateToString(subDays(today, 18)),
      category: "Flooring",
      serviceType: "Installation"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-011",
      title: "Emergency AC Repair",
      clientName: "Sunset Hotel Group",
      clientEmail: "maintenance@sunset-hotel.example.com",
      clientPhone: "555-111-2233",
      address: "1250 Ocean Drive, Beachside",
      description: "Multiple AC units failing in hotel lobby and restaurant area. Urgent repair needed before weekend event.",
      scheduledDate: formatDateToString(addDays(today, 1)),
      date: formatDateToString(setHours(tomorrow, 10)),
      technicianId: "tech-1",
      technicianName: "John Smith",
      jobSourceId: "source-1",
      jobSourceName: "Repeat Client",
      status: "scheduled",
      priority: "urgent",
      amount: 4800,
      estimateId: "est-011",
      notes: "Customer is VIP client. Additional technicians may be needed.",
      createdAt: formatDateToString(subDays(today, 2)),
      category: "HVAC",
      serviceType: "Emergency Repair"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-012",
      title: "Smart Home Installation",
      clientName: "Robert Johnson",
      clientEmail: "r.johnson@example.com",
      clientPhone: "555-444-5566",
      address: "42 Tech Lane, Highland Hills",
      description: "Complete smart home system installation including security, lighting, climate control and entertainment systems",
      scheduledDate: formatDateToString(addDays(today, 3)),
      date: formatDateToString(setHours(addDays(today, 3), 11)),
      technicianId: "tech-2",
      technicianName: "Sarah Johnson",
      jobSourceId: "source-2",
      jobSourceName: "Website",
      status: "scheduled",
      priority: "medium",
      amount: 12500,
      estimateId: "est-012",
      notes: "Client has requested all systems be Apple HomeKit compatible",
      createdAt: formatDateToString(subDays(today, 5)),
      category: "Smart Home",
      serviceType: "Installation"
    },
    // Today's jobs for better visualization in day view
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-021",
      title: "Server Room Cooling Installation",
      clientName: "Tech Innovators LLC",
      clientEmail: "it@techinnovators.example.com",
      clientPhone: "555-222-3434",
      address: "88 Digital Drive, Tech Park",
      description: "Installing specialized cooling system for new server room",
      scheduledDate: formatDateToString(today),
      date: formatDateToString(setHours(today, 9)),
      technicianId: "tech-1",
      technicianName: "John Smith",
      jobSourceId: "source-1",
      jobSourceName: "Website",
      status: "in_progress",
      priority: "high",
      amount: 8750,
      estimateId: "est-021",
      notes: "Critical systems - must be completed today",
      createdAt: formatDateToString(subDays(today, 7)),
      category: "HVAC",
      serviceType: "Installation"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-022",
      title: "Bathroom Plumbing Repair",
      clientName: "City View Apartments",
      clientEmail: "maintenance@cityview.example.com",
      clientPhone: "555-678-9012",
      address: "123 Skyline Avenue",
      description: "Fix leaking pipes in apartment 302",
      scheduledDate: formatDateToString(today),
      date: formatDateToString(setHours(today, 11)),
      technicianId: "tech-3",
      technicianName: "Michael Rodriguez",
      jobSourceId: "source-3",
      jobSourceName: "Direct Call",
      status: "scheduled",
      priority: "medium",
      amount: 950,
      estimateId: "est-022",
      notes: "Tenant will be home to provide access",
      createdAt: formatDateToString(subDays(today, 2)),
      category: "Plumbing",
      serviceType: "Repair"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-023",
      title: "Security System Installation",
      clientName: "First National Bank",
      clientEmail: "security@fnb.example.com",
      clientPhone: "555-321-7654",
      address: "500 Financial Plaza",
      description: "Install new security cameras and access control system",
      scheduledDate: formatDateToString(today),
      date: formatDateToString(setHours(today, 13)),
      technicianId: "tech-2",
      technicianName: "Sarah Johnson",
      jobSourceId: "source-2",
      jobSourceName: "Referral",
      status: "scheduled",
      priority: "high",
      amount: 15750,
      estimateId: "est-023",
      notes: "Security personnel will escort technicians",
      createdAt: formatDateToString(subDays(today, 14)),
      category: "Security",
      serviceType: "Installation"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-024",
      title: "Office Lighting Upgrade",
      clientName: "Creative Design Agency",
      clientEmail: "facilities@creative.example.com",
      clientPhone: "555-789-4561",
      address: "42 Innovation Way",
      description: "Replacing fluorescent lighting with LED panels throughout office",
      scheduledDate: formatDateToString(today),
      date: formatDateToString(setHours(today, 15)),
      technicianId: "tech-7",
      technicianName: "Emily Chen",
      jobSourceId: "source-7",
      jobSourceName: "Website",
      status: "scheduled",
      priority: "medium",
      amount: 6200,
      estimateId: "est-024",
      notes: "Work must be completed after hours",
      createdAt: formatDateToString(subDays(today, 9)),
      category: "Electrical",
      serviceType: "Upgrade"
    },
    // Future jobs
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-025",
      title: "Restaurant Equipment Installation",
      clientName: "Gourmet Dining Group",
      clientEmail: "operations@gourmetgroup.example.com",
      clientPhone: "555-123-7890",
      address: "789 Culinary Boulevard",
      description: "Installing new commercial kitchen equipment",
      scheduledDate: formatDateToString(addDays(today, 4)),
      date: formatDateToString(setHours(addDays(today, 4), 8)),
      technicianId: "tech-10",
      technicianName: "James Wilson",
      jobSourceId: "source-10",
      jobSourceName: "Referral",
      status: "scheduled",
      priority: "high",
      amount: 21500,
      estimateId: "est-025",
      notes: "Restaurant opening scheduled for next month",
      createdAt: formatDateToString(subDays(today, 20)),
      category: "Commercial",
      serviceType: "Installation"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-026",
      title: "Hotel Room Renovation",
      clientName: "Seaside Resort",
      clientEmail: "projects@seasideresort.example.com",
      clientPhone: "555-987-3210",
      address: "1 Oceanfront Drive",
      description: "Complete renovation of 10 premier suites",
      scheduledDate: formatDateToString(addDays(today, 6)),
      date: formatDateToString(setHours(addDays(today, 6), 7)),
      technicianId: "tech-4",
      technicianName: "Jennifer Lopez",
      jobSourceId: "source-4",
      jobSourceName: "Repeat Client",
      status: "scheduled",
      priority: "medium",
      amount: 185000,
      estimateId: "est-026",
      notes: "Phased approach - 2 rooms at a time",
      createdAt: formatDateToString(subDays(today, 45)),
      category: "Renovation",
      serviceType: "Hotel"
    },
    {
      id: uuidv4(),
      jobNumber: "JOB-2023-027",
      title: "Office Building Inspection",
      clientName: "Downtown Property Management",
      clientEmail: "maintenance@downtown-pm.example.com",
      clientPhone: "555-456-7890",
      address: "101 Business Plaza",
      description: "Annual building inspection for insurance compliance",
      scheduledDate: formatDateToString(addDays(today, 5)),
      date: formatDateToString(setHours(addDays(today, 5), 13)),
      technicianId: "tech-5",
      technicianName: "David Washington",
      jobSourceId: "source-5",
      jobSourceName: "Maintenance Contract",
      status: "scheduled",
      priority: "low",
      amount: 2800,
      estimateId: "est-027",
      notes: "Comprehensive report required within 48 hours",
      createdAt: formatDateToString(subDays(today, 15)),
      category: "Inspection",
      serviceType: "Commercial"
    }
  ];
};

// Export for consistent reference
export const initialJobs: Job[] = generateDemoJobs();
export const jobs = initialJobs;
